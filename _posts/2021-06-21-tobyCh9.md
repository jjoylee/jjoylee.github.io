---
layout: post
title: 토비의 스프링 VOL.1 CH8
tags: [Book]
---

### 3계층 아키텍처

- 계층형 아키텍처 : 책임과 성격이 다른 것을 크게 그룹으로 만들어 분리해두는 것
- 데이터 엑세스 계층 : DB나 레거시 시스템과 연동하는 인터페이스 역할을 한다. (DAO)
- 서비스 계층 : 비즈니스 로직을 담고 있다. POJO로 작성. DAO 계층을 호출하고 이를 활용.
- 프레젠테이션 계층 : 웹 기반의 UI를 만들어내고 흐름을 관리한다. 주로 서블릿 기술을 바탕으로 한다.

- 각 계층은 응집도가 높으면서(자신의 계층의 책임에 충실) 다른 계층과는 낮은 결합도를 유지해야한다.
- 프레젠테이션 계층의 객체를 그대로 서비스 계층에 전달하면 안된다.(HttpSession, HttpServletRequest 등), 특정 계층에 종속 x
- 계층 사이의 호출은 인터페이스를 통해 이뤄져야 한다.

### 애플리케이션 정보 아키텍처
- 데이터 중심 설계의 특징은 비즈니스 로직이 DB 내부의 저장 프로시저나 SQL에 담겨 있는 경우가 많다.
- DB/SQL 중심의 로직 구현 방식은 개발하기는 쉽지만 변화에 취약하다. 확장에 한계가 있다. 테스트 하기도 어렵다.

### 거대한 서비스 계층 방식
- 단순한 DAO 로직을 사용하고, 비즈니스 로직의 대부분을 서비스 계층에 집중
- 자바 언어의 장점을 활용해 로직을 구현할 수 있고, 테스트 하기가 쉽다.
- 처음에는 개발하기 편하지만 중복이 많아지기 쉽고 장기적으로 코드를 관리하기 힘들다는 단점이 있다.

### 오브젝트 중심 아키텍처
- 도메인 모델을 반영하는 오브젝트 구조를 만들고 이를 각 계층 사이에서 정보를 전달하는데 사용한다.
- 도메인 모델은 전 계층에서 동일한 의미를 갖기 때문에 도메인 오브젝트도 일관된 구조를 유지한 채 사용할 수 있다.
- 코드는 이해하기 쉽고 로직을 작성하기 수월하다.
- 비즈니스 로직에 따라 필요하지 않은 정보도 가져오는 경우가 발생한다는 단점이 있다.
- 빈약한 도메인 오브젝트 방식
    - 도메인 오브젝트에 정보만 담겨 있고, 정보를 활용하는 기능을 갖고 있지 않을 때
    - 거대 서비스 계층 방식. 서비스 계층 메소드에 비즈니스 로직이 있어 재사용성이 떨어진다.
- 풍성한 도메인 오브젝트 방식
    - 특정 도메인 오브젝트에 관련된 비즈니스 로직을 도메인 오브젝트에 넣어두고, 서비스 계층의 비즈니스의 로직에서 재사용하게 만드는 것
    - 서비스 계층의 코드가 간결하다.

### 도메인 계층 방식
- 도메인 오브젝트들이 하나의 독립적인 계층을 이뤄서 서비스 계층과 데이터 엑세스 계층의 사이에 존재한다.
- 도메인에 종속적인 비즈니스 로직의 처리는 도메인 계층의 오브젝트 안에서 진행된다.
- 도메인 오브젝트가 기존 데이터 액세스 계층이나 기반 계층의 기능을 직접 활용할 수 있다.
- AOP를 사용해서 도메인 오브젝트에 DI를 적용할 수 있다.

#### Reference
* * *
책 : 토비의 스프링 3.1 Vol.1 스프링의 이해와 원리 (저 이일민)